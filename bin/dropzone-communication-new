#!/usr/bin/env node
var program = require('commander');

program
  .usage('<private_key> <addr> [options]')
  .description('Start a new conversation with the person at a given testnet address')
  .on('--help', function(){
    console.log(
      "  Start a conversation between your tesnet <private_key> and the user at the specified\n"
      + "  testnet address <addr>. An initiation request needs only to be issued by one user, a recipient\n"
      + "  must reply to that request using the 'communication say' command, in order to authenticate the\n"
      + "  initiator's request and perform key exchange. Thereafter, a channel between the two addresses\n"
      + "  is established, and communications will remain open. NOTE: A communications secret is\n"
      + "  generated by Drop Zone for each recipient that a connection has been established with, and\n"
      + "  these secrets are stored in the ~/.dropzone/dropzone.db file. When the user responds to this\n"
      + "  request a secret is automatically generated on their computer as well.\n");
    console.log(
      "  Example:\n\n"
      + "  # Start a conversation\n"
      + "  dropzone communication new \\\n"
      + "    92UvdTpmxA6cvD6YeJZSiHW8ff8DsZXL2PHZu9Mg7JY3zbaETJw \\\n"
      + "    mqVRfjepJTxxoDgDt892tCybhmjfKCFNyp\n");
  });

program.parse(process.argv);
