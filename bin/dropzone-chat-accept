#!/usr/bin/env node
var program = require('commander')
var command = require('../src/commands').chat.accept

program
  .usage('<private_key> <session_id> [options]')
  .description('Accept a conversation created by someone else')
  .option('-s, --socks <server:port>',
    'Route all connections through the specified socks server & port')
  .option('-r, --driver <name>',
    'Connect to the blockchain using any of these drivers [spv]', 'spv')
  .option('-m, --mainnet',
    'Force sessions that would normally be on testnet, onto mainnet')
  .option('-f, --fee <satoshis>',
    'Set the transaction fee amount (default: 2000)', 2000)
  .on('--help', function () {
    console.log(
      '  Accept the conversation identified by <session_id>\n' +
      '  using your testnet <private_key>.\n')
    console.log(
      '  Example:\n\n' +
      '  # Accept conversation with another user over testnet\n' +
      '  dropzone chat accept \\\n' +
      '    92UvdTpmxA6cvD6YeJZSiHW8ff8DsZXL2PHZu9Mg7JY3zbaETJwÂ \\\n' +
      '    0e3e2357e806b6cdb1f70b54c3a3a17b6714ee1f0e68bebb44a74b1efd512098\n')
  })
  .action(command)

program.parse(process.argv)
