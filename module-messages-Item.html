<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>dropzone-lib Class: Item</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.lumen.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">dropzone-lib</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-arc4.html">arc4</a></li><li><a href="module-messages.html">messages</a></li><li><a href="module-profile.html">profile</a></li><li><a href="module-session.html">session</a></li><li><a href="module-tx_decoder.html">tx_decoder</a></li><li><a href="module-tx_encoder.html">tx_encoder</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="DropzoneError.html">DropzoneError</a></li><li><a href="Listing.html">Listing</a></li><li><a href="module-arc4-Arc4.html">arc4~Arc4</a></li><li><a href="module-messages-Buyer.html">messages~Buyer</a></li><li><a href="module-messages-Chat.html">messages~Chat</a></li><li><a href="module-messages-Invoice.html">messages~Invoice</a></li><li><a href="module-messages-Item.html">messages~Item</a></li><li><a href="module-messages-MessageBase.html">messages~MessageBase</a></li><li><a href="module-messages-Payment.html">messages~Payment</a></li><li><a href="module-messages-Seller.html">messages~Seller</a></li><li><a href="module-profile-BuyerProfile.html">profile~BuyerProfile</a></li><li><a href="module-profile-Profile.html">profile~Profile</a></li><li><a href="module-profile-SellerProfile.html">profile~SellerProfile</a></li><li><a href="module-session-InvalidCommunication.html">session~InvalidCommunication</a></li><li><a href="module-session-InvalidWithReceiverError.html">session~InvalidWithReceiverError</a></li><li><a href="module-session-MissingReceiverError.html">session~MissingReceiverError</a></li><li><a href="module-session-NotAuthenticatedError.html">session~NotAuthenticatedError</a></li><li><a href="module-session-Session.html">session~Session</a></li><li><a href="module-tx_decoder-BadDecodingError.html">tx_decoder~BadDecodingError</a></li><li><a href="module-tx_decoder-BadEncodingError.html">tx_decoder~BadEncodingError</a></li><li><a href="module-tx_decoder-TxDecoder.html">tx_decoder~TxDecoder</a></li><li><a href="module-tx_encoder-InvalidGenPublicKeyError.html">tx_encoder~InvalidGenPublicKeyError</a></li><li><a href="module-tx_encoder-InvalidPublicKeyError.html">tx_encoder~InvalidPublicKeyError</a></li><li><a href="module-tx_encoder-MissingSenderAddrError.html">tx_encoder~MissingSenderAddrError</a></li><li><a href="module-tx_encoder-MissingSenderPubKeyError.html">tx_encoder~MissingSenderPubKeyError</a></li><li><a href="module-tx_encoder-TxEncoder.html">tx_encoder~TxEncoder</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: Item</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-messages.html">messages</a>~</span>
        
        Item
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="Item"><span class="type-signature"></span>new Item(connection, attrs)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>An Item listing. Either a create (DZITCRTE) or update (DZITUPDT), depending
on the attributes supplied.</p>
<p><strong>receiverAddr</strong>: Newly created items will have no receiver, and will be
 automatically sent to an appropriate burn address that will enable item
 discovery on the network. Updates to an item should be addressed to the
 seller's public key, from with the item was originally declared.</p>
<p><strong>NOTE</strong>: All attributes that are specified below are also getter properties
 that can be accessed on this instantiated object.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connection</code></td>
            

            <td class="type">
            
                
<span class="param-type">Driver</span>



            
            </td>

            

            

            <td class="description last"><p>blockchain connection</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attrs</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p>Attributes that this Item contains</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>latitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">Float</span>



            
            </td>

            

            

            <td class="description last"><p>DZITCRTE only/required: Listing Latitude</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>longitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">Float</span>



            
            </td>

            

            

            <td class="description last"><p>DZITCRTE only/required: Listing Longitude</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>radius</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>DZITCRTE only/required: Listing precision
 (in meters)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>description</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>This is the description of the item, and
 can contain text and/or URL of the seller for use in presenting to the
 buyer. Hashtags are highly encouraged as a mechanism for identifying the
 item (i.e., #bible).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>priceCurrency</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The denomination of the price. ISO4217
 codes are acceptable, as well as &quot;BTC.&quot; Nonce-like constructions should
 also be supported (i.e., DOGE).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>priceInUnits</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>The price of the specified item
 denominated in cents, or satoshis, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>expirationIn</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>The expiration time of the item. &quot;Times&quot;
 are to be indicated in the number of blocks that this listing is available
 for. Omitting this field indicates no expiration. Note that clients will
 likely override the seller's preference to list an item for a very long
 time by restricting the block depth of users' searches.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createTxid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>DZITUPDT only/required: This integer
 specifies the previously created transaction id being updated.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="module-messages-MessageBase.html">module:messages~MessageBase</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id=".distanceBetween"><span class="type-signature">&lt;static> </span>distanceBetween(lat1, lon1, lat2, lon2)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Compute the distance between two pairs of lat/lon's. Based on the haversine
formula, pulled from : http://www.movable-type.co.uk/scripts/latlong.html</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lat1</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lon1</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lat2</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lon2</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".findCreatesSinceBlock"><span class="type-signature">&lt;static> </span>findCreatesSinceBlock(connection, startingAt, blockDepth, cb)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>/<em> Returns all </em>Items created* since (and including) the provided block to the
provided depth. Note thath these are items and not listings, so as to query
faster. Items are returned in the order of newest to oldest.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connection</code></td>
            

            <td class="type">
            
                
<span class="param-type">Driver</span>



            
            </td>

            

            

            <td class="description last"><p>blockchain connection</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>startingAt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>Block Height to begin search from</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>blockDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>Block Depth to which the search should descend</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback to receive the item creation messages in
 the form: function(err, items).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".findInRadius"><span class="type-signature">&lt;static> </span>findInRadius(connection, startingAt, blockDepth, lat, lon, inMeters, cb)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>/<em> Returns all </em>Items created* since (and including) the provided block. This
call basically mirrors the functionality of findCreatesSinceBlock, however,
the additional lat/lon/inMeters parameter is used to filter results based on
geographic proximity. This returns all items created in the specified
timeframe that were declared within the specified inMeters from the lat/lot.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>connection</code></td>
            

            <td class="type">
            
                
<span class="param-type">Driver</span>



            
            </td>

            

            

            <td class="description last"><p>blockchain connection</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>startingAt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>Block Height to begin search from</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>blockDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>Block Depth to which the search should descend</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lat</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>the Latitude corresponding to the buyer's location</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lon</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>the Longitude corresponding to the buyer's location</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>inMeters</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>



            
            </td>

            

            

            <td class="description last"><p>the number of meters to search for listings around
 the provided lat/lon</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback to receive the item creation messages in
 the form: function(err, items).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="isValid"><span class="type-signature"></span>isValid(cb)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Determine whether this message has been properly formatted, and is 'in
consensus' with the Drop Zone protocol. Further documentation for this
validation result, and it's error messages can be found in the async-validate
library.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback to receive the results of the validity test
 form: function(err, res)</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">Inherited From:</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="module-messages-MessageBase.html#isValid">module:messages~MessageBase#isValid</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="save"><span class="type-signature"></span>save(cb)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Save this message into the blockchain, if it hasn't yet been persisted, and
was instantiated without a txid.</p>
<p>NOTE: Validation is not performed as part of this method. It's entirely
possible to persist a message into the blockchain that will be ommitted from
search/scan results by clients. Validation is performed as part of #find()
not #save().</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cb</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Callback which receives the mempool-persisted message
 in the form: function(err, message)</p>
<p> NOTE: Due to transaction-maleability, the persisted txid may change at the
 time of actual confirmation. This method merely broadcasts the message into
 the mempool.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">Inherited From:</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="module-messages-MessageBase.html#save">module:messages~MessageBase#save</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="toTransaction"><span class="type-signature"></span>toTransaction()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Return a hash object representing the serialized components of this transaction
suitable for passing onto TxEncode.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	
	<dt class="inherited-from method-doc-label method-doc-details-label">Inherited From:</dt>
	<dd class="inherited-from">
		<ul class="dummy">
			<li>
				<a href="module-messages-MessageBase.html#toTransaction">module:messages~MessageBase#toTransaction</a>
			</li>
		</ul>
	</dd>
	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on 2016-01-13T20:25:20-05:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>